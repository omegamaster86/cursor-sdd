# テスト標準

[目的: 何をテストするか、テストの配置場所、構造化方法をガイド]

## 哲学
- 実装ではなく振る舞いをテスト
- 高速で信頼性の高いテストを優先。脆いモックを最小化
- 重要なパスを深くカバー。100%追求より広さ

## 構成
オプション:
- 同一配置: `component.tsx` + `component.test.tsx`
- 分離: `/src/...` と `/tests/...`
1つをデフォルトに選択。例外は根拠を伴って許可。

命名:
- ファイル: `*.test.*` または `*.spec.*`
- スイート: テスト対象。ケース: 期待される振る舞い

## テストタイプ
- ユニット: 単一ユニット、依存関係をモック、非常に高速
- 統合: 複数ユニットを一緒に、外部のみモック
- E2E: 完全なフロー、最小限のモック、重要なジャーニーのみ

## 構造（AAA）
```typescript
it('YのときXを行う', () => {
  // Arrange
  const input = setup();
  // Act
  const result = act(input);
  // Assert
  expect(result).toEqual(expected);
});
```

## モック & データ
- 外部をモック（API/DB）。テスト対象システムは決してモックしない
- ファクトリー/フィクスチャを使用。テスト間で状態をリセット
- テストデータは最小限で意図が明確に

## カバレッジ
- 目標: [全体の%]。重要なドメインではより高く
- CIでしきい値を強制。例外にはレビュー根拠が必要

---
_パターンと決定事項に焦点を当てる。ツール固有の設定は別の場所。_
