# ステアリング原則

ステアリングファイルは**プロジェクトメモリ**であり、網羅的な仕様書ではない。

---

## コンテンツの粒度

### ゴールデンルール
> 「新しいコードが既存パターンに従っていれば、ステアリングを更新する必要はない。」

### ✅ 記載すべき内容
- 組織パターン（フィーチャーファースト、レイヤード）
- 命名規則（PascalCaseルール）
- インポート戦略（絶対パス vs 相対パス）
- アーキテクチャ決定（状態管理）
- 技術標準（主要フレームワーク）

### ❌ 避けるべき内容
- 完全なファイル一覧
- すべてのコンポーネント説明
- すべての依存関係
- 実装詳細
- エージェント固有のツールディレクトリ（例: `.cursor/`, `.gemini/`, `.claude/`）
- `.cursor/` メタデータディレクトリの詳細ドキュメント（settings, automation）

### 比較例

**悪い例**（仕様書的）:
```markdown
- /components/Button.tsx - バリアント付きプライマリボタン
- /components/Input.tsx - バリデーション付きテキスト入力
- /components/Modal.tsx - モーダルダイアログ
... (50以上のファイル)
```

**良い例**（プロジェクトメモリ）:
```markdown
## UIコンポーネント (`/components/ui/`)
再利用可能な、デザインシステムに沿ったプリミティブ
- 機能名で命名（Button, Input, Modal）
- コンポーネント + TypeScriptインターフェースをエクスポート
- ビジネスロジックなし
```

---

## セキュリティ

以下は絶対に含めない：
- APIキー、パスワード、認証情報
- データベースURL、内部IP
- シークレットや機密データ

---

## 品質基準

- **単一ドメイン**: 1ファイルにつき1トピック
- **具体例**: パターンをコードで示す
- **根拠の説明**: なぜその決定をしたか
- **管理可能なサイズ**: 通常100〜200行

---

## 保存（更新時）

- ユーザーセクションとカスタム例を保持
- デフォルトは追加（置換ではない）
- `updated_at` タイムスタンプを追加
- 変更理由を記載

---

## 注意事項

- テンプレートは出発点であり、必要に応じてカスタマイズ
- コアステアリングと同じ粒度原則に従う
- すべてのステアリングファイルはプロジェクトメモリとしてロードされる
- `.cursor/specs/` と `.cursor/steering/` への軽い参照は許容、他の `.cursor/` ディレクトリは避ける
- カスタムファイルもコアファイルと同様に重要

---

## ファイル別の焦点

- **product.md**: 目的、価値、ビジネスコンテキスト（機能の網羅的リストではない）
- **tech.md**: 主要フレームワーク、標準、規約（すべての依存関係ではない）
- **structure.md**: 組織パターン、命名ルール（ディレクトリツリーではない）
- **カスタムファイル**: 専門的なパターン（API、テスト、セキュリティなど）
